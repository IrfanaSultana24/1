<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Thank you</title>
<style>
  :root{
    --bg1:#0f172a; --bg2:#0b1220;        /* page background (behind your photo) */
    --card:#0b1220cc;                    /* message card with ~80% opacity */
    --text:#e6eef7; --muted:#9fb0c3;     /* copy colors */
    --border:#1f2a44; --accent:#30c48d;  /* subtle accent */
  }
  * { box-sizing:border-box }
  html,body{ height:100%; margin:0 }
  body{
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial;
    color:var(--text);
    display:grid; place-items:center;
    background: radial-gradient(1200px 800px at 10% 10%, var(--bg1), var(--bg2));
    background-size:cover; background-position:center; background-attachment:fixed;
    overflow:hidden;
  }

  /* Center card */
  .card{
    position:relative; z-index:3;
    width:min(92vw, 720px);
    background:var(--card);
    border:1px solid var(--border);
    border-radius:20px;
    padding:32px 28px 24px;
    box-shadow:0 24px 60px rgba(0,0,0,.38), inset 0 1px 0 rgba(255,255,255,.06);
    backdrop-filter: blur(10px);
  }
  h1{ margin:0 0 10px; font-size:clamp(26px,4.8vw,42px); line-height:1.1; letter-spacing:.2px }
  .msg{ margin:0 0 14px; font-size:clamp(15px,2.4vw,18px); color:var(--text); opacity:.95 }
  .meta{ margin-top:6px; color:var(--muted); font-size:14px }

  .row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:18px }
  button, a.btn{
    appearance:none; border:1px solid #2b3b52; background:#0b1220; color:var(--text);
    padding:10px 14px; border-radius:12px; font-weight:600; cursor:pointer; text-decoration:none;
    transition: border-color .15s ease, box-shadow .25s ease, transform .06s ease;
  }
  button:hover, a.btn:hover{ border-color:#3a4c66; box-shadow:0 8px 22px rgba(0,0,0,.28); transform:translateY(-1px) }
  .primary{ background:linear-gradient(180deg, #0f172a 0, #0c1425 100%); border-color:#2b3b52 }
  .accent{ border-color:#2e5a4c; background:linear-gradient(180deg, #0f1f1a 0, #0c1714 100%) }
  .accent:hover{ border-color:#2f8568 }

  /* Minimal ‚Äúdrift‚Äù layer (evenly spread, very sparse) */
  .g{ position:fixed; inset:0; z-index:1; pointer-events:none; }
  .p{
    position:absolute; top:-60px; color:#fff; opacity:.35;
    text-shadow:0 2px 8px rgba(0,0,0,.35);
    animation: fall var(--dur,s) linear var(--delay,s) forwards,
               sway 9s ease-in-out infinite;
    will-change: transform;
  }
  @keyframes fall { to { transform:translateY(110vh) } }
  @keyframes sway { 0%{ transform:translateX(0) rotate(0) }
                    50%{ transform:translateX(var(--sx,26px)) rotate(var(--rot,8deg)) }
                    100%{ transform:translateX(0) rotate(0) } }

  /* Top-right controls (tiny) */
  .ctrl{
    position:fixed; right:14px; top:14px; z-index:4; display:flex; gap:8px; align-items:center;
    background:#0b1220cc; border:1px solid var(--border); border-radius:12px; padding:6px 10px;
    font-size:12px; backdrop-filter:blur(8px)
  }
  .dot{ width:6px; height:6px; border-radius:50%; background:var(--accent); margin-right:6px }
  .badge{ display:inline-flex; align-items:center; gap:8px; font-weight:600; }

  /* Respect ‚Äúreduce motion‚Äù */
  @media (prefers-reduced-motion: reduce){
    .p{ animation:none }
  }
</style>
</head>
<body>
  <!-- Tiny controls -->
  <div class="ctrl">
    <span class="badge"><span class="dot"></span>Interactive</span>
    <label style="display:flex; gap:6px; align-items:center">
      <input id="toggleAnim" type="checkbox" checked />
      <span>Animation</span>
    </label>
  </div>

  <!-- Gentle background drift -->
  <div class="g" id="drift"></div>

  <!-- Message -->
  <div class="card">
    <h1 id="title">Thank you, team!</h1>
    <p class="msg" id="message">
      It‚Äôs been a privilege to build, iterate, and ship with you. Wishing you smooth workflows and zero clashes ahead.
    </p>
    <p class="meta" id="signature">‚Äî Irfana</p>

    <div class="row">
      <button id="applause" class="primary">üëè Applause <span id="count" style="opacity:.8;margin-left:6px">0</span></button>
      <button id="feedbackBtn" class="accent">üí¨ Leave feedback</button>
      <a id="connect" class="btn" href="#" target="_blank" rel="noopener">üîó Connect</a>
    </div>
  </div>

  <!-- Feedback modal (simple) -->
  <div id="modal"
       style="position:fixed;inset:0;display:none;z-index:10;align-items:center;justify-content:center;background:rgba(0,0,0,.45);padding:18px">
    <div style="width:min(92vw,620px);background:#0b1220;border:1px solid #1f2a44;border-radius:16px;padding:18px;
                box-shadow:0 24px 60px rgba(0,0,0,.5)">
      <h3 style="margin:0 0 10px">Share your feedback</h3>
      <textarea id="fbText" placeholder="Write a quick note..."
        style="width:100%;min-height:140px;background:#0f172a;color:var(--text);
               border:1px solid #334155;border-radius:12px;padding:10px;font:inherit"></textarea>
      <div class="row" style="justify-content:flex-end;margin-top:12px">
        <button id="cancel">Cancel</button>
        <button id="send" class="primary">Send</button>
      </div>
    </div>
  </div>

  <!-- Hidden target for Google Form -->
  <iframe name="gform-target" style="display:none"></iframe>

<script>
  /* ---------- Text & links from URL ---------- */
  const qs = new URLSearchParams(location.search);
  const title = qs.get('title') || "Thank you, team!";
  const msg   = qs.get('msg')   || "It‚Äôs been a privilege to build, iterate, and ship with you. Wishing you smooth workflows and zero clashes ahead.";
  const name  = qs.get('name')  || "Irfana";
  const bg    = qs.get('bg')    || "1.jpeg";  // put your image in the repo and pass ?bg=1.jpeg
  const link  = qs.get('link')  || "https://www.linkedin.com/"; // connect button

  document.getElementById('title').textContent = title;
  document.getElementById('message').textContent = msg;
  document.getElementById('signature').textContent = `‚Äî ${name}`;
  document.getElementById('connect').href = link;

  if (bg){
    const url = bg.match(/^https?:\/\//) ? bg : `${bg}`;
    document.body.style.backgroundImage = `url('${url}'), radial-gradient(1200px 800px at 10% 10%, var(--bg1), var(--bg2))`;
    document.body.style.backgroundSize   = 'cover, auto';
    document.body.style.backgroundBlendMode = 'multiply';
  }

  /* ---------- Minimal ‚Äúdrift‚Äù (even lanes, very sparse) ---------- */
  const DRIFT = document.getElementById('drift');
  const ICONS = ["üëã","ü§ù","üëè"];          // restrained set
  const MAX   = 8;                        // max on screen
  const INTERVAL = 1600;                  // spawn gap (ms)
  const DUR_RANGE = [18, 26];             // slow fall

  let lane = 0, timer = null, animOn = true;

  function lanes(){
    const n = Math.max(8, Math.floor(window.innerWidth / 140)); // wider lanes for less clutter
    const pad = 2;                                              // vw
    const step = (100 - pad*2) / (n - 1);
    return { n, pad, step };
  }

  function spawn(){
    if (!animOn) return;
    if (DRIFT.childElementCount >= MAX) return;

    const { n, pad, step } = lanes();
    const xvw = pad + (lane * step);
    lane = (lane + 1) % n;

    const el = document.createElement('div');
    el.className = 'p';
    el.textContent = ICONS[Math.floor(Math.random()*ICONS.length)];
    const dur = (Math.random()*(DUR_RANGE[1]-DUR_RANGE[0])+DUR_RANGE[0]).toFixed(1);
    const delay = (Math.random()*0.8).toFixed(2);
    el.style.left = `calc(${xvw}vw + ${(-step*0.35 + Math.random()*step*0.7).toFixed(2)}vw)`; // small jitter in lane
    el.style.setProperty('--dur', dur+'s');
    el.style.setProperty('--delay', delay+'s');
    el.style.setProperty('--sx', (Math.random()<.5?-1:1)*Math.floor(16+Math.random()*18)+'px');
    el.style.setProperty('--rot', (Math.random()<.5?-1:1)*(6+Math.random()*6)+'deg');
    el.style.fontSize = (22 + Math.random()*8) + 'px';

    DRIFT.appendChild(el);
    setTimeout(()=> el.remove(), (parseFloat(dur)+parseFloat(delay)+0.5)*1000);
  }

  function start(){ if(!timer){ timer = setInterval(spawn, INTERVAL); } }
  function stop(){ if(timer){ clearInterval(timer); timer=null; } }
  start();

  // Animation toggle & reduced motion
  const toggle = document.getElementById('toggleAnim');
  toggle.addEventListener('change', ()=>{ animOn = toggle.checked; animOn ? start() : stop(); });
  if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches){
    toggle.checked = false; animOn = false; stop();
  }

  /* ---------- Applause (subtle) ---------- */
  let count = 0;
  const btn = document.getElementById('applause');
  const num = document.getElementById('count');
  btn.addEventListener('click', ()=>{
    count++; num.textContent = count;
    btn.style.transform = 'translateY(-1px) scale(1.02)';
    setTimeout(()=> btn.style.transform = '', 120);
  });

  /* ---------- Feedback ‚Üí Google Form (direct submit) ---------- */
  const GF_ACTION = "https://docs.google.com/forms/d/e/1FAIpQLSepDMrPMO7QyUpuBlqOZFUDsvVUg6XtiYh0G2eYARxeD-3cMA/formResponse";
  const GF_FIELD  = "entry.1175385091";

  const modal = document.getElementById('modal');
  document.getElementById('feedbackBtn').addEventListener('click', ()=> modal.style.display = 'flex');
  document.getElementById('cancel').addEventListener('click', ()=> modal.style.display = 'none');
  document.getElementById('send').addEventListener('click', ()=>{
    const v = document.getElementById('fbText').value.trim();
    if(!v){ alert("Please write a quick note first."); return; }

    const form = document.createElement('form');
    form.method = 'POST';
    form.action = GF_ACTION;
    form.target = 'gform-target';

    const t = document.createElement('textarea');
    t.name = GF_FIELD;
    t.value = `${v}\n\n‚Äî sent from: ${location.href}`;
    form.appendChild(t);

    document.body.appendChild(form);
    form.submit();
    document.body.removeChild(form);

    alert("Thanks! Your feedback was sent ‚úÖ");
    modal.style.display = 'none';
    document.getElementById('fbText').value = "";
  });
</script>
</body>
</html>
